# my-dotfiles | Copyright (C) 2021 eth-p
# Repository: https://github.com/eth-p/my-dotfiles

window:
  padding:
    x: 4
    y: 2

font:
  size: 11
  use_thin_strokes: true

  normal:
    family: "JetBrains Mono NL"

  bold:
    family: "JetBrains Mono NL"

  italic:
    family: "JetBrains Mono NL"

  bold_italic:
    family: "JetBrains Mono NL"

scrolling:
  history: 0

colors:
  primary:
    background: '#1c1c1c'
    foreground: '#c8c8c8'
  normal:
    black:   '#1d1f21'
    red:     '#ff6188'
    green:   '#a9dc76'
    yellow:  '#ffd866'
    blue:    '#ab9df2'
    magenta: '#fc9867' # actually... orange
    cyan:    '#78dce8'
    white:   '#c5c5c5'
  bright:
    black:   '#666666'
    red:     '#ff3158'
    green:   '#79ec46'
    yellow:  '#fff836'
    blue:    '#6b6dff'
    magenta: '#ffb837' # actually... orange
    cyan:    '#38efff'
    white:   '#eaeaea'


# -----------------------------------------------------------------------------
# Shell
# -----------------------------------------------------------------------------

env:
  REAL_SHELL: fish

shell:
  program: '/usr/bin/env'
  args:
  - 'bash'
  - '-c'
  - |-
    # Switch the SHELL environment variable to the user's desired shell.
    export SHELL="$REAL_SHELL"
    unset REAL_SHELL

    # Append to the PATH.
    PATH="/usr/local/bin:$PATH"

    # Start a new tmux session for tab and split support.
    echo $SHELL
    tmux new-session "bash -c 'tmux unbind d; exec \"$SHELL\" -l'" || bash


# -----------------------------------------------------------------------------
# Bindings
# -----------------------------------------------------------------------------

key_bindings:
  - { key: Q, mods: Control, chars: "\u0011" } # Ctrl+Q -> Ctrl+Q

  # Rebind CMD+S to send F6 (bound to save) to tmux.
  - { key: S, mods: Command, chars: "\u0001\x1B[17~" } # F6
  - { key: O, mods: Command, chars: "\u0001\x1B[18~" } # F7

  # Rebind CMD+K to use tmux.
  - { key: K, mods: Command, chars: "\u0001k" } # Clear pane.

  # Rebind CMD+C to enter tmux copy mode.
  - { key: C, mods: Command, chars: "\u0001[" }

  # Rebind CMD+N/CMD+W to use tmux.
  - { key: N, mods: Command, chars: "\u0001c" }
  - { key: T, mods: Command, chars: "\u0001c" }
  - { key: W, mods: Command, chars: "\u0001x" }

  # Rebind CMD+D/CMD+SHIFT+D to use tmux.
  - { key: D, mods: Command,       chars: "\u0001|" } # Vertical split pane.
  - { key: D, mods: Command|Shift, chars: "\u0001-" } # Horizontal split pane.

  # Rebind CMD+[number] to use tmux.
  - { key: 'Key1', mods: Command, chars: "\u00011" }
  - { key: 'Key2', mods: Command, chars: "\u00012" }
  - { key: 'Key3', mods: Command, chars: "\u00013" }
  - { key: 'Key4', mods: Command, chars: "\u00014" }
  - { key: 'Key5', mods: Command, chars: "\u00015" }
  - { key: 'Key6', mods: Command, chars: "\u00016" }
  - { key: 'Key7', mods: Command, chars: "\u00017" }
  - { key: 'Key8', mods: Command, chars: "\u00018" }
  - { key: 'Key9', mods: Command, chars: "\u00019" }

  # Rebind CMD+` to use tmux.
  - { key: Grave, mods: Command,       chars: "\u0001n" }
  - { key: Grave, mods: Command|Shift, chars: "\u0001p" }

  - { key: Grave, mods: Alt|Command,       chars: "\u0001n" } # Workaround using BTT
  - { key: Grave, mods: Alt|Command|Shift, chars: "\u0001p" } # Workaround using BTT

